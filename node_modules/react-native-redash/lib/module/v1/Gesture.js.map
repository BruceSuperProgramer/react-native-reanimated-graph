{"version":3,"sources":["Gesture.ts"],"names":["Animated","diff","lessThan","or","State","Platform","snapPoint","vec","proc","Clock","Value","event","add","block","cond","eq","multiply","set","stopClock","and","not","clockRunning","startClock","neq","call","reDecay","decay","reSpring","spring","onChange","debug","pinchBegan","state","OS","ACTIVE","BEGAN","pinchActive","numberOfPointers","pinchEnd","END","withScaleOffset","value","offset","withOffset","withSpring","props","velocity","snapPoints","springConfig","config","onSnap","clock","springState","finished","position","time","toValue","damping","mass","stiffness","overshootClamping","restSpeedThreshold","restDisplacementThreshold","gestureAndAnimationIsOver","isSpringInterrupted","finishSpring","snap","withDecay","deceleration","decayState","isDecayInterrupted","finishDecay","onScrollEvent","contentOffset","nativeEvent","onGestureEvent","gestureEvent","onHandlerStateChange","tapGestureHandler","UNDETERMINED","createValue","absolutePosition","gestureHandler","x","y","absoluteX","absoluteY","panGestureHandler","translation","translationX","velocityX","translationY","velocityY","pinchGestureHandler","focal","scale","focalX","focalY","rotationGestureHandler","anchor","rotation","anchorX","anchorY","scrollHandler","onScroll","scrollEventThrottle","debugGestureState","label","d","CANCELLED"],"mappings":"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","sourcesContent":["import Animated, { diff, lessThan, or } from \"react-native-reanimated\";\nimport {\n  FlingGestureHandlerEventExtra,\n  ForceTouchGestureHandlerEventExtra,\n  GestureHandlerStateChangeNativeEvent,\n  LongPressGestureHandlerEventExtra,\n  PanGestureHandlerEventExtra,\n  PinchGestureHandlerEventExtra,\n  RotationGestureHandlerEventExtra,\n  State,\n  TapGestureHandlerEventExtra,\n} from \"react-native-gesture-handler\";\nimport { Platform } from \"react-native\";\n\nimport { snapPoint } from \"./Animations\";\nimport { vec } from \"./Vectors\";\n\nconst {\n  proc,\n  Clock,\n  Value,\n  event,\n  add,\n  block,\n  cond,\n  eq,\n  multiply,\n  set,\n  stopClock,\n  and,\n  not,\n  clockRunning,\n  startClock,\n  neq,\n  call,\n  decay: reDecay,\n  spring: reSpring,\n  onChange,\n  debug,\n} = Animated;\n\n// See: https://github.com/kmagiera/react-native-gesture-handler/issues/553\nexport const pinchBegan = proc((state: Animated.Node<State>) =>\n  Platform.OS === \"android\"\n    ? cond(eq(diff(state), State.ACTIVE - State.BEGAN), eq(state, State.ACTIVE))\n    : eq(state, State.BEGAN)\n);\n\nexport const pinchActive = proc(\n  (state: Animated.Node<State>, numberOfPointers: Animated.Node<number>) =>\n    and(\n      eq(state, State.ACTIVE),\n      eq(numberOfPointers, 2),\n      Platform.OS === \"android\" ? not(pinchBegan(state)) : 1\n    )\n);\n\nexport const pinchEnd = proc(\n  (state: Animated.Node<State>, numberOfPointers: Animated.Node<number>) =>\n    Platform.OS === \"android\"\n      ? or(eq(state, State.END), lessThan(numberOfPointers, 2))\n      : eq(state, State.END)\n);\n\nexport const withScaleOffset = (\n  value: Animated.Node<number>,\n  state: Animated.Node<State>,\n  offset: Animated.Value<number> = new Value(1)\n) =>\n  cond(\n    eq(state, State.END),\n    [set(offset, multiply(offset, value)), offset],\n    multiply(offset, value)\n  );\n\nexport const withOffset = (\n  value: Animated.Node<number>,\n  state: Animated.Node<State>,\n  offset: Animated.Value<number> = new Value(0)\n) =>\n  cond(\n    eq(state, State.END),\n    [set(offset, add(offset, value)), offset],\n    add(offset, value)\n  );\n\ninterface PrivateSpringConfig extends Animated.SpringConfig {\n  toValue: Animated.Value<number>;\n}\n\ntype SpringConfig = Omit<Animated.SpringConfig, \"toValue\">;\n\nexport interface WithSpringParams {\n  value: Animated.Adaptable<number>;\n  velocity: Animated.Adaptable<number>;\n  state: Animated.Node<State>;\n  snapPoints: Animated.Adaptable<number>[];\n  offset?: Animated.Value<number>;\n  config?: SpringConfig;\n  onSnap?: (value: readonly number[]) => void;\n}\n\nexport const withSpring = (props: WithSpringParams) => {\n  const {\n    value,\n    velocity,\n    state,\n    snapPoints,\n    offset,\n    config: springConfig,\n    onSnap,\n  } = {\n    offset: new Value(0),\n    ...props,\n  };\n  const clock = new Clock();\n  const springState: Animated.SpringState = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n  };\n\n  const config: PrivateSpringConfig = {\n    toValue: new Value(0),\n    damping: 6,\n    mass: 1,\n    stiffness: 64,\n    overshootClamping: false,\n    restSpeedThreshold: 0.01,\n    restDisplacementThreshold: 0.01,\n    ...springConfig,\n  };\n\n  const gestureAndAnimationIsOver = new Value(1);\n  const isSpringInterrupted = and(eq(state, State.BEGAN), clockRunning(clock));\n  const finishSpring = [\n    set(offset, springState.position),\n    stopClock(clock),\n    set(gestureAndAnimationIsOver, 1),\n  ];\n  const snap = onSnap\n    ? [cond(clockRunning(clock), call([springState.position], onSnap))]\n    : [];\n  return block([\n    cond(isSpringInterrupted, finishSpring),\n    cond(gestureAndAnimationIsOver, set(springState.position, offset)),\n    cond(neq(state, State.END), [\n      set(gestureAndAnimationIsOver, 0),\n      set(springState.finished, 0),\n      set(springState.position, add(offset, value)),\n    ]),\n    cond(and(eq(state, State.END), not(gestureAndAnimationIsOver)), [\n      cond(and(not(clockRunning(clock)), not(springState.finished)), [\n        set(springState.velocity, velocity),\n        set(springState.time, 0),\n        set(\n          config.toValue,\n          snapPoint(springState.position, velocity, snapPoints)\n        ),\n        startClock(clock),\n      ]),\n      reSpring(clock, springState, config),\n      cond(springState.finished, [...snap, ...finishSpring]),\n    ]),\n    springState.position,\n  ]);\n};\n\ninterface WithDecayParams {\n  value: Animated.Adaptable<number>;\n  velocity: Animated.Adaptable<number>;\n  state: Animated.Node<State>;\n  offset?: Animated.Value<number>;\n  deceleration?: number;\n}\n\nexport const withDecay = (config: WithDecayParams) => {\n  const { value, velocity, state, offset, deceleration } = {\n    offset: new Value(0),\n    deceleration: 0.998,\n    ...config,\n  };\n  const clock = new Clock();\n  const decayState = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n  };\n\n  const isDecayInterrupted = and(eq(state, State.BEGAN), clockRunning(clock));\n  const finishDecay = [set(offset, decayState.position), stopClock(clock)];\n\n  return block([\n    cond(isDecayInterrupted, finishDecay),\n    cond(neq(state, State.END), [\n      set(decayState.finished, 0),\n      set(decayState.position, add(offset, value)),\n    ]),\n    cond(eq(state, State.END), [\n      cond(and(not(clockRunning(clock)), not(decayState.finished)), [\n        set(decayState.velocity, velocity),\n        set(decayState.time, 0),\n        startClock(clock),\n      ]),\n      reDecay(clock, decayState, { deceleration }),\n      cond(decayState.finished, finishDecay),\n    ]),\n    decayState.position,\n  ]);\n};\n\nexport const onScrollEvent = (contentOffset: {\n  x?: Animated.Node<number>;\n  y?: Animated.Node<number>;\n}) =>\n  event([\n    {\n      nativeEvent: {\n        contentOffset,\n      },\n    },\n  ]);\n\ntype NativeEvent = GestureHandlerStateChangeNativeEvent &\n  (\n    | PanGestureHandlerEventExtra\n    | TapGestureHandlerEventExtra\n    | LongPressGestureHandlerEventExtra\n    | RotationGestureHandlerEventExtra\n    | FlingGestureHandlerEventExtra\n    | PinchGestureHandlerEventExtra\n    | ForceTouchGestureHandlerEventExtra\n  );\n\ntype Adaptable<T> = { [P in keyof T]: Animated.Adaptable<T[P]> };\n\nexport const onGestureEvent = (\n  nativeEvent: Partial<Adaptable<NativeEvent>>\n) => {\n  const gestureEvent = event([{ nativeEvent }]);\n  return {\n    onHandlerStateChange: gestureEvent,\n    onGestureEvent: gestureEvent,\n  };\n};\n\nexport const tapGestureHandler = () => {\n  const state = new Value(State.UNDETERMINED);\n  const position = vec.createValue(0);\n  const absolutePosition = vec.createValue(0);\n  const gestureHandler = onGestureEvent({\n    state,\n    x: position.x,\n    y: position.y,\n    absoluteX: absolutePosition.x,\n    absoluteY: absolutePosition.y,\n  });\n  return {\n    gestureHandler,\n    position,\n    absolutePosition,\n    state,\n  };\n};\n\nexport const panGestureHandler = () => {\n  const position = vec.createValue(0);\n  const translation = vec.createValue(0);\n  const velocity = vec.createValue(0);\n  const state = new Value(State.UNDETERMINED);\n  const gestureHandler = onGestureEvent({\n    x: position.x,\n    translationX: translation.x,\n    velocityX: velocity.x,\n    y: position.y,\n    translationY: translation.y,\n    velocityY: velocity.y,\n    state,\n  });\n  return {\n    position,\n    translation,\n    velocity,\n    state,\n    gestureHandler,\n  };\n};\n\nexport const pinchGestureHandler = () => {\n  const focal = vec.createValue(0, 0);\n  const scale = new Value(1);\n  const numberOfPointers = new Value(0);\n  const state = new Value(State.UNDETERMINED);\n  const gestureHandler = onGestureEvent({\n    numberOfPointers,\n    focalX: focal.x,\n    focalY: focal.y,\n    scale,\n    state,\n  });\n  return {\n    numberOfPointers,\n    scale,\n    state,\n    gestureHandler,\n    focal,\n  };\n};\n\nexport const rotationGestureHandler = () => {\n  const anchor = vec.createValue(0, 0);\n  const rotation = new Value(0);\n  const state = new Value(State.UNDETERMINED);\n  const gestureHandler = onGestureEvent({\n    anchorX: anchor.x,\n    anchorY: anchor.y,\n    rotation,\n    state,\n  });\n  return {\n    rotation,\n    state,\n    gestureHandler,\n    anchor,\n  };\n};\n\nexport const scrollHandler = () => {\n  const x = new Value(0);\n  const y = new Value(0);\n  const onScroll = onScrollEvent({ x, y });\n  return {\n    x,\n    y,\n    scrollHandler: {\n      onScroll,\n      scrollEventThrottle: 1,\n    },\n  };\n};\n\nexport const debugGestureState = (\n  label: string,\n  state: Animated.Node<State>\n) => {\n  const d = (value: string): Animated.Node<number> =>\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    debug(label, new Value(value));\n  return onChange(\n    state,\n    cond(\n      eq(state, State.UNDETERMINED),\n      d(\"UNDETERMINED\"),\n      cond(\n        eq(state, State.BEGAN),\n        d(\"BEGAN\"),\n        cond(\n          eq(state, State.ACTIVE),\n          d(\"ACTIVE\"),\n          cond(\n            eq(state, State.END),\n            d(\"END\"),\n            cond(eq(state, State.CANCELLED), d(\"CANCELLED\"), d(\"FAILED\"))\n          )\n        )\n      )\n    )\n  );\n};\n"]}